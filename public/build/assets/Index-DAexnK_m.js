import{o as pt,H as W,D as ft,c as r,a as V,u as mt,h as gt,m as Q,b as e,n as g,j as d,t as i,e as v,f as Y,x as vt,d as xt,I as ht,v as kt,F as X,s as wt,r as c,y as tt}from"./app-DL_lWBci.js";import{_ as bt}from"./AdminLayout-BIk4ezIf.js";const yt={class:"absolute top-3 left-3 z-[600] flex items-center gap-2"},_t=["title"],Mt={key:0,class:"w-5 h-5",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},St={key:1,class:"w-5 h-5",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},Tt={class:"maps-glass-chip"},Lt={class:"text-emerald-600 dark:text-emerald-400 font-bold"},Ct={class:"font-semibold"},jt={key:0,class:"maps-glass-chip"},Ft={class:"font-semibold"},Bt={class:"absolute top-3 right-3 z-[600] flex items-center gap-1.5"},$t={class:"maps-glass-btn px-3 h-10 flex items-center gap-2"},Dt=["title"],zt={key:0,class:"w-4 h-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},Nt={key:1,class:"w-4 h-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},Et={class:"absolute bottom-3 left-3 z-[500] flex items-center gap-2"},It={class:"maps-glass-chip text-[10px]"},Pt={class:"maps-glass-chip text-[10px]"},Vt={key:0,class:"absolute top-16 left-3 bottom-12 z-[550] w-80 max-w-[calc(100vw-1.5rem)] flex flex-col maps-panel"},Ht={class:"px-4 pt-4 pb-3 flex-shrink-0"},Zt={class:"flex items-center justify-between mb-3"},Ut={class:"relative"},At={class:"flex-1 overflow-y-auto px-4 pb-4 space-y-1.5 custom-scrollbar"},Ot={key:0,class:"text-xs text-slate-400 italic py-6 text-center"},Rt=["onClick"],Gt={class:"relative flex-shrink-0"},qt={key:0,class:"absolute -bottom-0.5 -right-0.5 block h-3 w-3 rounded-full bg-emerald-500 ring-2 ring-white dark:ring-slate-800"},Jt={class:"flex-1 min-w-0"},Kt={class:"text-xs font-semibold text-slate-800 dark:text-slate-100 truncate"},Wt={class:"flex items-center gap-1.5 mt-0.5"},Qt={class:"text-[10px] text-slate-400 uppercase"},Yt={key:0,class:"px-3 pb-3"},Xt={class:"bg-slate-50/80 dark:bg-slate-800/40 rounded-lg p-2.5 space-y-1.5"},te={class:"grid grid-cols-2 gap-x-4 gap-y-1 text-[11px]"},ee={class:"flex justify-between"},se={class:"font-mono text-slate-600 dark:text-slate-300"},ae={class:"flex justify-between"},ne={class:"font-mono text-slate-600 dark:text-slate-300"},le={class:"flex justify-between"},oe={class:"text-slate-600 dark:text-slate-300"},ie={class:"flex justify-between"},re={class:"text-slate-600 dark:text-slate-300"},de={class:"flex justify-between"},ue={class:"text-slate-600 dark:text-slate-300"},ce={class:"flex justify-between"},pe={key:0,class:"pt-1.5 border-t border-slate-200/60 dark:border-white/5 flex items-center justify-between text-[11px]"},fe={class:"text-right"},me={class:"text-slate-600 dark:text-slate-300"},ge={key:0,class:"text-[10px] text-slate-400"},ve={class:"mt-2.5"},xe={class:"flex gap-1.5"},he=["value","onChange"],ke=["value","onChange"],we=["onClick"],H="/api/v1",Me={__name:"Index",setup(be){const F=c(null);let l=null;const x=new Map,B=[];let _=null,T=[],$=null,M=null,D=null,z=!1,L=null;const h=c([]),C=c([]),f=c(null),N=c(""),k=c(!1),b=c(!0),w=c("voyager"),Z=c(new Date),E=c({}),S={voyager:{label:"Carto Voyager",url:"https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png",maxZoom:19,attribution:"© OpenStreetMap contributors © CARTO"},light:{label:"Carto Light",url:"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png",maxZoom:19,attribution:"© OpenStreetMap contributors © CARTO"},satellite:{label:"Esri Satellite + Label",url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",labelUrl:"https://server.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places/MapServer/tile/{z}/{y}/{x}",maxZoom:19,attribution:"Tiles © Esri",labelAttribution:"Labels © Esri"}};function j(a){return String(a??"").replace(/[&<>"']/g,t=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"})[t]||t)}function I(a){if(!a)return"-";const t=String(a).includes("T")?String(a):String(a).replace(" ","T"),n=new Date(t);if(isNaN(n.getTime()))return a;const s=Date.now()-n.getTime();if(s<6e4)return"baru saja";const o=Math.floor(s/6e4);if(o<60)return o+" menit lalu";const u=Math.floor(o/60);return u<24?u+" jam lalu":Math.floor(u/24)+" hari lalu"}function U(a){if(!a)return"text-slate-400";const t=String(a).includes("T")?String(a):String(a).replace(" ","T"),n=new Date(t);if(isNaN(n.getTime()))return"text-slate-400";const s=Math.floor((Date.now()-n.getTime())/6e4);return s<=10?"text-emerald-600":s<=30?"text-amber-600":"text-red-500"}function et(a){if(!a)return!1;const t=String(a).includes("T")?String(a):String(a).replace(" ","T"),n=new Date(t);return!isNaN(n.getTime())&&Date.now()-n.getTime()<6e5}function st(a){if(!a)return"bg-slate-400";const t=String(a).includes("T")?String(a):String(a).replace(" ","T"),n=new Date(t);if(isNaN(n.getTime()))return"bg-slate-400";const s=Math.floor((Date.now()-n.getTime())/6e4);return s<=10?"bg-emerald-500":s<=30?"bg-amber-500":"bg-slate-400"}function at(){const a=new Date;return a.getFullYear()+"-"+String(a.getMonth()+1).padStart(2,"0")+"-"+String(a.getDate()).padStart(2,"0")}function p(a){const t=String(a);if(!E.value[t]){const n=at();E.value[t]={from:n,to:n,statusText:"",statusTone:"muted"}}return E.value[t]}const A=tt(()=>{const a=N.value.trim().toLowerCase();let t=h.value;return a&&(t=t.filter(n=>String(n.technician_name||"").toLowerCase().includes(a))),[...t].sort((n,s)=>{const o=n.recorded_at?new Date(String(n.recorded_at).replace(" ","T")).getTime():0;return(s.recorded_at?new Date(String(s.recorded_at).replace(" ","T")).getTime():0)-o})}),nt=tt(()=>h.value.filter(a=>a.latitude&&a.longitude).length);function lt(){!window.L||!F.value||(l=window.L.map(F.value,{zoomControl:!0}).setView([-2.5489,118.0149],5),O(w.value),setTimeout(()=>l==null?void 0:l.invalidateSize(),200))}function O(a){if(!l||!window.L)return;const t=S[a]||S.voyager;$&&l.removeLayer($),M&&(l.removeLayer(M),M=null),$=window.L.tileLayer(t.url,{maxZoom:t.maxZoom||19,attribution:t.attribution||""}).addTo(l),t.labelUrl&&(M=window.L.tileLayer(t.labelUrl,{maxZoom:t.maxZoom||19,attribution:t.labelAttribution||""}).addTo(l),M.setZIndex(200)),w.value=S[a]?a:"voyager";try{localStorage.setItem("maps_teknisi_style",w.value)}catch{}}function ot(a){O(a.target.value)}function it(a,t){const n=j(a||"-");return`<div class="tech-marker${t?" is-selected":""}">
        <div class="tech-marker-label">${n}</div>
        <div class="tech-marker-icon">
            <svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor"><path d="M12 12a4 4 0 1 0-4-4 4 4 0 0 0 4 4Zm0 2c-4.4 0-8 2.2-8 5v1h16v-1c0-2.8-3.6-5-8-5Z"/></svg>
        </div>
        <div class="tech-marker-pointer"></div>
    </div>`}function R(){if(!l||!window.L)return;const a=new Set;if(h.value.forEach(t=>{const n=String(t.technician_id);a.add(n);const s=parseFloat(t.latitude),o=parseFloat(t.longitude);if(!isFinite(s)||!isFinite(o))return;const u=String(f.value)===n,y=window.L.divIcon({className:"tech-marker-wrapper",html:it(t.technician_name,u),iconAnchor:[0,0]});let m=x.get(n);m?(m.setLatLng([s,o]),m.setIcon(y)):(m=window.L.marker([s,o],{icon:y}).addTo(l),m.on("click",()=>G(n)),x.set(n,m)),m.getPopup()&&m.unbindPopup()}),x.forEach((t,n)=>{a.has(n)||(l.removeLayer(t),x.delete(n))}),!z&&x.size>0){const t=window.L.featureGroup(Array.from(x.values()));l.fitBounds(t.getBounds().pad(.2)),z=!0}}function rt(){if(!l||!window.L)return;B.forEach(t=>l.removeLayer(t)),B.length=0;const a={Baru:"#3b82f6",Survey:"#8b5cf6",Proses:"#eab308",Pending:"#f97316"};C.value.forEach(t=>{if(!t.lat||!t.lng)return;const n=a[t.status]||"#6b7280",s=window.L.divIcon({className:"custom-inst-marker",html:`<div style="width:24px;height:24px;border-radius:999px;background:#fff;display:flex;align-items:center;justify-content:center;border:2px solid ${n};box-shadow:0 2px 6px rgba(0,0,0,.15)"><div style="width:10px;height:10px;border-radius:999px;background:${n}"></div></div>`,iconSize:[24,24],iconAnchor:[12,12]}),o=window.L.marker([t.lat,t.lng],{icon:s}).addTo(l).bindPopup(`<div class="p-2 text-xs"><div class="font-bold">${j(t.nama)}</div><div class="text-gray-500">${j(t.alamat)}</div><div><span style="color:${n}">${t.status}</span></div><div class="text-gray-400">POP: ${j(t.pop||"-")}</div></div>`);B.push(o)})}function G(a){if(String(f.value)===String(a))f.value=null;else{f.value=String(a);const t=h.value.find(n=>String(n.technician_id)===String(a));if(t&&l){const n=parseFloat(t.latitude),s=parseFloat(t.longitude);isFinite(n)&&isFinite(s)&&l.setView([n,s],16)}}R()}function q(){!l||!window.L||(_&&(l.removeLayer(_),_=null),T.forEach(a=>l.removeLayer(a)),T=[])}async function dt(a){const t=String(a||f.value||"");if(!t)return;const n=p(t);n.statusText="Memuat jejak...",n.statusTone="muted";try{const s=new URLSearchParams;n.from&&s.append("date_from",n.from),n.to&&s.append("date_to",n.to);const u=await(await fetch(`${H}/maps/history/${t}?${s}`)).json();if(!u.success&&!u.status)throw new Error(u.message||"Gagal memuat");const y=Array.isArray(u.data)?u.data:[];ut(y),y.length===0?(n.statusText="Jejak tidak ditemukan.",n.statusTone="error"):(n.statusText=`${y.length} titik ditampilkan.`,n.statusTone="success")}catch{n.statusText="Gagal memuat jejak.",n.statusTone="error"}}function ut(a){if(q(),!l||!window.L||a.length===0)return;const t=a.map(n=>[parseFloat(n.latitude),parseFloat(n.longitude)]).filter(n=>isFinite(n[0])&&isFinite(n[1]));t.length!==0&&(_=window.L.polyline(t,{color:"#2563eb",weight:3,opacity:.85}).addTo(l),T.push(window.L.circleMarker(t[0],{radius:5,color:"#16a34a",fillColor:"#16a34a",fillOpacity:.9}).addTo(l)),T.push(window.L.circleMarker(t[t.length-1],{radius:5,color:"#dc2626",fillColor:"#dc2626",fillOpacity:.9}).addTo(l)),l.fitBounds(_.getBounds().pad(.2)))}async function P(){try{const t=await(await fetch(`${H}/maps/locations`)).json();(t.success||t.status==="success")&&(h.value=t.data||[],R())}catch(a){console.error("Maps: failed to load locations",a)}Z.value=new Date}async function J(){try{const t=await(await fetch(`${H}/maps/installations`)).json();t.success&&(C.value=t.data||[],rt())}catch(a){console.error("Maps: failed to load installations",a)}}function ct(){P(),J()}function K(){k.value=!k.value,W(()=>{setTimeout(()=>l==null?void 0:l.invalidateSize(),200)})}return pt(()=>{try{const t=localStorage.getItem("maps_teknisi_style");t&&S[t]&&(w.value=t)}catch{}(window.L?Promise.resolve():new Promise((t,n)=>{const s=document.createElement("link");s.rel="stylesheet",s.href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css",document.head.appendChild(s);const o=document.createElement("script");o.src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js",o.onload=()=>t(),o.onerror=()=>n(new Error("Failed to load Leaflet")),document.head.appendChild(o)})).then(()=>{W(()=>{lt(),P(),J()})}),D=setInterval(()=>P(),3e4),L=t=>{t.key==="Escape"&&k.value&&K()},document.addEventListener("keydown",L)}),ft(()=>{D&&clearInterval(D),L&&document.removeEventListener("keydown",L),q(),l&&(l.remove(),l=null),x.clear(),z=!1}),(a,t)=>(d(),r(X,null,[V(mt(gt),{title:"Maps Teknisi"}),V(bt,null,{default:Q(()=>{var n;return[e("div",{class:g(["relative",k.value?"fixed inset-0 z-[60]":"h-[calc(100vh-5.5rem)] lg:h-[calc(100vh-4rem)]"]),style:{"min-height":"400px"}},[e("div",{ref_key:"mapContainer",ref:F,class:g(["absolute inset-0 bg-slate-100 dark:bg-slate-900",[k.value?"":"rounded-2xl overflow-hidden"]])},null,2),e("div",yt,[e("button",{onClick:t[0]||(t[0]=s=>b.value=!b.value),type:"button",class:"maps-glass-btn w-10 h-10 flex items-center justify-center",title:b.value?"Sembunyikan panel":"Tampilkan panel"},[b.value?(d(),r("svg",St,[...t[5]||(t[5]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4 6h16M4 12h16M4 18h16"},null,-1)])])):(d(),r("svg",Mt,[...t[4]||(t[4]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 19l-7-7 7-7"},null,-1)])]))],8,_t),e("div",Tt,[t[6]||(t[6]=e("span",{class:"relative flex h-2 w-2"},[e("span",{class:"animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-75"}),e("span",{class:"relative inline-flex rounded-full h-2 w-2 bg-emerald-500"})],-1)),e("span",Lt,i(nt.value),1),t[7]||(t[7]=e("span",{class:"text-slate-400 dark:text-slate-500"},"/",-1)),e("span",Ct,i(h.value.length),1),t[8]||(t[8]=e("span",{class:"text-slate-400 dark:text-slate-500 text-[10px]"},"teknisi",-1))]),C.value.length>0?(d(),r("div",jt,[t[9]||(t[9]=e("span",{class:"inline-flex h-2 w-2 rounded-full bg-amber-500"},null,-1)),e("span",Ft,i(C.value.length),1),t[10]||(t[10]=e("span",{class:"text-slate-400 dark:text-slate-500 text-[10px]"},"instalasi",-1))])):v("",!0)]),e("div",Bt,[e("div",$t,[t[12]||(t[12]=e("svg",{class:"w-4 h-4 text-slate-500 dark:text-slate-400 shrink-0",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 6.75V15m6-6v8.25m.503 3.498l4.875-2.437c.381-.19.622-.58.622-1.006V4.82c0-.836-.88-1.38-1.628-1.006l-3.869 1.934c-.317.159-.69.159-1.006 0L9.503 3.252a1.125 1.125 0 00-1.006 0L3.622 5.689C3.24 5.88 3 6.27 3 6.695V19.18c0 .836.88 1.38 1.628 1.006l3.869-1.934c.317-.159.69-.159 1.006 0l4.994 2.497c.317.158.69.158 1.006 0z"})],-1)),Y(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>w.value=s),onChange:ot,class:"bg-transparent text-xs font-bold text-slate-700 dark:text-slate-200 focus:outline-none cursor-pointer pr-1"},[...t[11]||(t[11]=[e("option",{value:"voyager"},"Voyager",-1),e("option",{value:"light"},"Light",-1),e("option",{value:"satellite"},"Satelit",-1)])],544),[[vt,w.value]])]),e("button",{onClick:ct,type:"button",class:"maps-glass-btn w-10 h-10 flex items-center justify-center",title:"Refresh lokasi"},[...t[13]||(t[13]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182M20.015 4.356v4.992"})],-1)])]),e("button",{onClick:K,type:"button",class:"maps-glass-btn w-10 h-10 flex items-center justify-center",title:k.value?"Keluar fullscreen":"Fullscreen"},[k.value?(d(),r("svg",Nt,[...t[15]||(t[15]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 9V4.5M9 9H4.5M9 9L3.75 3.75M9 15v4.5M9 15H4.5M9 15l-5.25 5.25M15 9h4.5M15 9V4.5M15 9l5.25-5.25M15 15h4.5M15 15v4.5m0-4.5l5.25 5.25"},null,-1)])])):(d(),r("svg",zt,[...t[14]||(t[14]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 3.75v4.5m0-4.5h4.5m-4.5 0L9 9M3.75 20.25v-4.5m0 4.5h4.5m-4.5 0L9 15M20.25 3.75h-4.5m4.5 0v4.5m0-4.5L15 9m5.25 11.25h-4.5m4.5 0v-4.5m0 4.5L15 15"},null,-1)])]))],8,Dt)]),e("div",Et,[e("div",It,i(((n=S[w.value])==null?void 0:n.label)||"Peta"),1),e("div",Pt,[t[16]||(t[16]=e("svg",{class:"w-3 h-3 text-slate-400",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),xt(" "+i(Z.value.toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit",second:"2-digit"})),1)])]),V(ht,{name:"panel-slide"},{default:Q(()=>[b.value?(d(),r("div",Vt,[e("div",Ht,[e("div",Zt,[t[18]||(t[18]=e("h3",{class:"text-sm font-bold text-slate-800 dark:text-white"},"Teknisi",-1)),e("button",{onClick:t[2]||(t[2]=s=>b.value=!1),class:"w-7 h-7 flex items-center justify-center rounded-lg hover:bg-slate-200/60 dark:hover:bg-white/10 transition text-slate-400"},[...t[17]||(t[17]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e("div",Ut,[t[19]||(t[19]=e("svg",{class:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})],-1)),Y(e("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>N.value=s),type:"text",placeholder:"Cari teknisi...",class:"w-full h-9 pl-9 pr-3 rounded-lg border border-slate-200/80 dark:border-white/10 bg-white/60 dark:bg-slate-800/60 text-xs font-medium text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-500/40 placeholder:text-slate-400"},null,512),[[kt,N.value]])])]),e("div",At,[A.value.length===0?(d(),r("div",Ot,i(h.value.length===0?"Memuat data teknisi...":"Tidak ditemukan."),1)):v("",!0),(d(!0),r(X,null,wt(A.value,s=>(d(),r("div",{key:s.technician_id,class:g(["rounded-xl transition-all duration-200 cursor-pointer",String(f.value)===String(s.technician_id)?"bg-blue-500/10 dark:bg-blue-400/10 ring-1 ring-blue-500/30":"hover:bg-slate-100/60 dark:hover:bg-white/5"])},[e("button",{type:"button",onClick:o=>G(s.technician_id),class:"w-full text-left px-3 py-2.5 flex items-center gap-3"},[e("div",Gt,[e("div",{class:g(["w-9 h-9 rounded-full flex items-center justify-center text-white text-xs font-bold",st(s.recorded_at)])},i((s.technician_name||"-").charAt(0).toUpperCase()),3),et(s.recorded_at)?(d(),r("span",qt)):v("",!0)]),e("div",Jt,[e("div",Kt,i(s.technician_name||"-"),1),e("div",Wt,[e("span",Qt,i(s.technician_role||"-"),1),t[20]||(t[20]=e("span",{class:"text-slate-300 dark:text-slate-600"},"·",-1)),e("span",{class:g(["text-[10px] font-medium",U(s.recorded_at)])},i(I(s.recorded_at)),3)])]),(d(),r("svg",{class:g(["w-4 h-4 text-slate-300 dark:text-slate-600 transition-transform flex-shrink-0",String(f.value)===String(s.technician_id)?"rotate-90":""]),fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[...t[21]||(t[21]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"},null,-1)])],2))],8,Rt),String(f.value)===String(s.technician_id)?(d(),r("div",Yt,[e("div",Xt,[e("div",te,[e("div",ee,[t[22]||(t[22]=e("span",{class:"text-slate-400"},"Lat",-1)),e("span",se,i(s.latitude!=null?Number(s.latitude).toFixed(6):"-"),1)]),e("div",ae,[t[23]||(t[23]=e("span",{class:"text-slate-400"},"Lng",-1)),e("span",ne,i(s.longitude!=null?Number(s.longitude).toFixed(6):"-"),1)]),e("div",le,[t[24]||(t[24]=e("span",{class:"text-slate-400"},"Akurasi",-1)),e("span",oe,i(s.accuracy!=null?Math.round(s.accuracy)+" m":"-"),1)]),e("div",ie,[t[25]||(t[25]=e("span",{class:"text-slate-400"},"Speed",-1)),e("span",re,i(s.speed!=null?Number(s.speed).toFixed(1)+" m/s":"-"),1)]),e("div",de,[t[26]||(t[26]=e("span",{class:"text-slate-400"},"Heading",-1)),e("span",ue,i(s.heading!=null?Math.round(s.heading)+"°":"-"),1)]),e("div",ce,[t[27]||(t[27]=e("span",{class:"text-slate-400"},"Update",-1)),e("span",{class:g(["font-medium",U(s.recorded_at)])},i(I(s.recorded_at)),3)])]),s.last_event?(d(),r("div",pe,[t[28]||(t[28]=e("span",{class:"text-slate-400"},"Aktivitas",-1)),e("div",fe,[e("div",me,i(s.last_event),1),s.last_event_at?(d(),r("div",ge,i(I(s.last_event_at)),1)):v("",!0)])])):v("",!0)]),e("div",ve,[t[29]||(t[29]=e("div",{class:"text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-1.5"},"Jejak Pergerakan",-1)),e("div",xe,[e("input",{type:"date",value:p(s.technician_id).from,onChange:o=>p(s.technician_id).from=o.target.value,class:"flex-1 h-8 px-2 rounded-lg border border-slate-200/80 dark:border-white/10 bg-white/60 dark:bg-slate-800/60 text-[11px] font-medium text-slate-700 dark:text-slate-200"},null,40,he),e("input",{type:"date",value:p(s.technician_id).to,onChange:o=>p(s.technician_id).to=o.target.value,class:"flex-1 h-8 px-2 rounded-lg border border-slate-200/80 dark:border-white/10 bg-white/60 dark:bg-slate-800/60 text-[11px] font-medium text-slate-700 dark:text-slate-200"},null,40,ke),e("button",{onClick:o=>dt(s.technician_id),class:"h-8 px-3 rounded-lg bg-blue-600 text-white text-[11px] font-bold hover:bg-blue-700 transition flex-shrink-0"}," Lihat ",8,we)]),p(s.technician_id).statusText?(d(),r("div",{key:0,class:g(["text-[10px] mt-1",p(s.technician_id).statusTone==="error"?"text-red-500":p(s.technician_id).statusTone==="success"?"text-emerald-500":"text-slate-400"])},i(p(s.technician_id).statusText),3)):v("",!0)])])):v("",!0)],2))),128))])])):v("",!0)]),_:1})],2)]}),_:1})],64))}};export{Me as default};
